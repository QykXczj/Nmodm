# 更新日志

[返回主页](../../README.md) | [English](../en/CHANGELOG.md)

本文档记录 Nmodm 的所有重要变更。

格式基于 [Keep a Changelog](https://keepachangelog.com/zh-CN/1.0.0/)，
版本号遵循 [语义化版本](https://semver.org/lang/zh-CN/)。

---

## [未发布]

### 计划中
- Mod 自动更新功能
- 云端配置同步
- 更多语言支持（日语、韩语等）

---

## [3.1.4] - 2025-12-31

### 新增
- ✨ nrsc.dll 预加载功能
  - 支持 SeamlessCoop 的 nrsc.dll 提前加载
  - 启用预加载时不再强制 nighter.dll → nrsc.dll 的加载顺序
  - 配置文件中持久化为 `load_early = true`
  - Mod 配置页面和快速启动页面均支持右键菜单设置
  - 列表中显示预加载状态：🚀 nrsc.dll [预加载]
- 🎨 预设编辑对话框状态标签
  - 左下角添加状态提示标签（3秒自动消失）
  - 替代弹窗提示，提升用户体验
- 📝 选项卡标题动态更新
  - 编辑预设时显示"✏️ 编辑预设"
  - 创建预设时显示"创建预设方案"

### 改进
- 🎨 预览配置布局优化
  - 预览信息和配置文件内容改为水平分布（左右布局）
  - 提升可读性和空间利用率
- 🔧 关闭按钮可见性优化
  - 字体大小调整为 20px
  - 颜色改为粉红色 (#FF69B4)，更加醒目
- 🌐 右键菜单完整国际化
  - "预加载"、"强制最后加载"、"强制优先加载"支持中英文切换
  - 实时响应语言切换

### 修复
- 🐛 修复复选框悬停效果问题（2处）
  - 添加 `QCheckBox::indicator:checked:hover` 样式
  - 确保选中状态下悬停时仍然显示选中样式
- 🐛 修复空描述显示问题
  - 当描述为空时，不写入描述行或写入默认描述
  - 确保解析时正确处理空描述
- 🐛 修复文件名保留问题
  - 更新预设后自动清空文件名输入框
  - 避免文件名残留导致的混淆
- 🐛 修复预加载状态显示问题
  - 修复文件名匹配逻辑（提取纯文件名比较）
  - 正确显示预加载状态标识
- 🐛 修复预加载状态复原问题
  - 保存预设后清空临时状态（`self.preload_dlls`）
  - 编辑预设时正确恢复预加载状态
- 🐛 修复 DLL 名称匹配问题
  - 处理带路径的 DLL 文件名（如 `SeamlessCoop/nrsc.dll`）
  - 提取纯文件名进行比较
- 🐛 修复未勾选时设置功能问题
  - "预加载"、"强制最后加载"、"强制优先加载"在 Mod 未勾选时显示"设置错误"提示
  - 统一错误处理逻辑

---

## [3.1.3] - 2025-01-20

### 修复
- 🐛 修复快速启动页面"编辑预设方案"对话框文本缺失问题
  - 修复翻译文件中重复的 `label` 键导致的文本丢失
  - 受影响的标签：方案名称、文件名、方案描述、选择图标、Mod包、DLL文件等
- 🐛 修复 OnlineFix 工具包解压后中文文件名乱码问题
  - 添加 ZIP 文件中文编码修复（CP437 -> GBK）
  - 修复"无缝手柄问题解决方案.png"等中文文件名显示异常

### 改进
- 📝 完善翻译文件结构，避免重复键
- 🔧 增强 ZIP 解压的编码兼容性

---

## [3.1.2] - 2025-01-20

### 新增
- 🌍 完整的国际化支持
  - 虚拟局域网页面完全翻译（新增17个翻译键）
  - 所有日志消息和错误提示支持中英文
- 📦 安装包多语言支持
  - Inno Setup 安装程序支持英文和中文界面
  - 自动检测系统语言（`ShowLanguageDialog=auto`）
  - 安装界面完整国际化（Tasks、Run、CustomMessages）
- 📚 完整的文档系统（中英文）
  - 用户指南、开发指南、贡献指南
  - 详细的更新日志
  - 版本总结文档
- 🔧 GitHub Actions 自动发布工作流
- 📝 版本号统一管理（`src/version.json`）

### 改进
- 🎨 优化 README 结构，更加简洁
- 📋 完善 `.gitignore` 配置
- 📦 改进依赖管理（`requirements.txt`）
- 🌐 翻译系统完善，无遗漏文本

### 修复
- 🐛 修复 `virtual_lan_page.py` 中文硬编码问题
- 🐛 修复 `error_msg` 默认值未翻译问题
- 🐛 修复版本号不一致问题
- 🐛 修复文档链接错误

---

## [3.1.1] - 2025-01-15

### 新增
- 版本加载器模块（`version_loader.py`）
- 动态版本显示功能

### 改进
- 优化构建脚本
- 改进错误处理机制

### 修复
- 修复打包后版本号显示问题
- 修复资源文件路径问题

---

## [3.1.0] - 2025-01-10

### 新增
- 国际化（i18n）支持
- 语言切换功能
- 翻译文件系统

### 改进
- 重构 UI 组件
- 优化启动速度
- 改进内存使用

### 修复
- 修复界面文本显示问题
- 修复语言切换后的状态保存

---

## [3.0.7] - 2025-01-06

### 新增
- Nexus Mods 页面发布

### 改进
- 优化用户体验
- 完善文档

---

## [3.0.5] - 2025-01-06

### 修复
- 🐛 修复 Mod 配置页面显示问题
- 🐛 修复虚拟局域网高级设置保存问题
- 🐛 修复 TOML 配置文件同步问题
- 🐛 修复进程管理和网络停止卡顿问题

### 改进
- 🔧 统一更新版本号到 3.0.5

---

## [3.0.3] - 2024-12-20

### 新增
- ✨ 新增现代化无边框界面设计
- ✨ 集成 EasyTier 虚拟局域网功能
- ✨ 添加智能 Mod 管理系统

### 改进
- 🔧 优化打包配置和部署流程
- 🎨 改进 UI 设计和用户体验

---

## [3.0.0] - 2024-12-01

### 新增
- 🎉 全新的 3.0 版本发布
- 🎮 游戏路径自动检测
- 🔧 ME3 工具集成
- 🌐 局域网联机支持
- 🎨 现代化界面设计

### 改进
- 完全重写代码架构
- 采用 PySide6 框架
- 模块化设计

---

## [2.x] - 历史版本

早期版本的更新日志未详细记录。

---

## 版本说明

### 版本号格式

`主版本号.次版本号.修订号`

- **主版本号**: 重大架构变更或不兼容的 API 修改
- **次版本号**: 向下兼容的功能性新增
- **修订号**: 向下兼容的问题修正

### 变更类型

- **新增**: 新功能
- **改进**: 对现有功能的改进
- **修复**: Bug 修复
- **移除**: 移除的功能
- **废弃**: 即将移除的功能
- **安全**: 安全相关的修复

---

**最后更新**: 2025-10-20
